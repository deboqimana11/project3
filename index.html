<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>阅读器 · 云墨</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-shell">
        <aside class="sidebar" aria-label="章节导航">
            <header class="sidebar-header">
                <div class="book-cover" aria-hidden="true">
                    <span class="cover-icon">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" aria-hidden="true">
                            <path d="M5 3H15.5C17.9853 3 20 5.01472 20 7.5V21" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M5 3V21H17" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </span>
                </div>
                <div class="book-meta">
                    <h1 class="book-title">云墨书库</h1>
                    <p class="book-author">虚拟作者</p>
                </div>
            </header>
            <nav class="toc" role="navigation">
                <h2 class="toc-title">目录</h2>
                <ul class="toc-list" id="toc-list"></ul>
            </nav>
        </aside>

        <main class="reader" role="main">
            <header class="top-bar">
                <button class="icon-button" id="menu-toggle" aria-label="展开或收起目录">
                    <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" aria-hidden="true">
                        <path d="M4 6H20" stroke-linecap="round"/>
                        <path d="M4 12H16" stroke-linecap="round"/>
                        <path d="M4 18H20" stroke-linecap="round"/>
                    </svg>
                </button>
                <div class="top-bar-meta">
                    <span class="chapter-label" id="chapter-label">加载中…</span>
                </div>
                <div class="top-bar-actions" role="group" aria-label="阅读设置">
                    <button class="icon-button" id="font-decrease" aria-label="减小字号">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" aria-hidden="true">
                            <path d="M12 6L7 18" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10.5 9H13.5" stroke-linecap="round"/>
                            <path d="M5 18H19" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <button class="icon-button" id="font-increase" aria-label="增大字号">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" aria-hidden="true">
                            <path d="M12 6L7 18" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10.5 9H13.5" stroke-linecap="round"/>
                            <path d="M12 9V12.5" stroke-linecap="round"/>
                            <path d="M5 18H19" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <button class="icon-button" id="theme-toggle" aria-label="切换主题">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" aria-hidden="true">
                            <path d="M21 12.79C20.86 17.17 17.09 20.86 12.69 20.99C9.12 21.09 5.99 19.04 4.58 15.83C3.17 12.62 3.86 8.88 6.32 6.37C7.81 4.84 9.87 3.96 12 3.92C12 3.92 11.72 5.19 11.71 6.11C11.68 9.54 14.45 12.34 17.88 12.37C18.79 12.38 21 12.79 21 12.79Z" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-button" id="settings-toggle" aria-haspopup="true" aria-expanded="false" aria-controls="settings-panel" aria-label="展开阅读设置">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" aria-hidden="true">
                            <path d="M12 15.5C13.933 15.5 15.5 13.933 15.5 12C15.5 10.067 13.933 8.5 12 8.5C10.067 8.5 8.5 10.067 8.5 12C8.5 13.933 10.067 15.5 12 15.5Z" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M19.4 15.5L20.3 13.44C20.42 13.16 20.38 12.83 20.21 12.58L18.79 10.46C18.66 10.27 18.64 10.03 18.73 9.82L19.67 7.65C19.88 7.16 19.7 6.57 19.23 6.31L17.06 5.17C16.84 5.05 16.66 4.86 16.55 4.64L15.43 2.47C15.18 2 14.58 1.82 14.1 2.03L11.94 2.97C11.72 3.06 11.48 3.04 11.29 2.91L9.17 1.49C8.91 1.32 8.58 1.28 8.3 1.4L6.24 2.31C5.97 2.43 5.78 2.68 5.72 2.97L5.27 5.24C5.22 5.5 5.06 5.72 4.83 5.85L2.74 6.99C2.27 7.25 2.09 7.84 2.31 8.33L3.39 10.76C3.49 10.98 3.47 11.24 3.34 11.45L1.92 13.57C1.75 13.83 1.72 14.16 1.84 14.44L2.79 16.61C2.9 16.83 3.09 17.02 3.31 17.14L5.49 18.29C5.7 18.4 5.84 18.6 5.87 18.83L6.3 21.12C6.39 21.61 6.87 21.94 7.37 21.83L9.78 21.31C10.02 21.26 10.27 21.32 10.47 21.47L12.59 22.92C12.86 23.11 13.22 23.14 13.51 22.99L15.58 21.99C15.85 21.87 16.07 21.63 16.13 21.34L16.58 19.07C16.63 18.81 16.79 18.59 17.02 18.45L19.11 17.32C19.59 17.07 19.78 16.47 19.4 15.5Z" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </header>

            <section class="reading-area" aria-live="polite">
                <article class="reading-surface" id="reader-content" tabindex="0" aria-label="小说正文"></article>
            </section>

            <div class="settings-panel" id="settings-panel" role="dialog" aria-modal="false" aria-hidden="true" data-open="false">
                <header class="settings-panel-header">
                    <div class="settings-panel-title">
                        <h2>阅读设置</h2>
                        <p>根据习惯调节舒适的阅读体验</p>
                    </div>
                    <button class="icon-button" id="settings-close" aria-label="关闭设置面板">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" aria-hidden="true">
                            <path d="M6 6L18 18" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6 18L18 6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </header>
                <div class="settings-section" aria-label="主题选择">
                    <h3>主题</h3>
                    <div class="theme-options" role="radiogroup" aria-label="主题模式">
                        <button class="theme-option" data-theme="theme-light" role="radio" aria-checked="false">
                            <span class="theme-option-preview" data-theme="light"></span>
                            <span class="theme-option-label">晨光</span>
                        </button>
                        <button class="theme-option" data-theme="theme-sepia" role="radio" aria-checked="false">
                            <span class="theme-option-preview" data-theme="sepia"></span>
                            <span class="theme-option-label">纸墨</span>
                        </button>
                        <button class="theme-option" data-theme="theme-dark" role="radio" aria-checked="false">
                            <span class="theme-option-preview" data-theme="dark"></span>
                            <span class="theme-option-label">夜读</span>
                        </button>
                    </div>
                </div>
                <div class="settings-section" aria-label="排版">
                    <h3>排版</h3>
                    <div class="setting-control">
                        <div class="setting-label">
                            <span>字号</span>
                            <span id="font-size-value" class="setting-value">中</span>
                        </div>
                        <input type="range" id="font-size-slider" min="-4" max="7" value="0" step="1" aria-label="字号调节">
                    </div>
                    <div class="setting-control">
                        <div class="setting-label">
                            <span>行距</span>
                            <span id="line-height-value" class="setting-value">标准</span>
                        </div>
                        <input type="range" id="line-height-slider" min="-2" max="4" value="0" step="1" aria-label="行距调节">
                    </div>
                    <div class="setting-control">
                        <div class="setting-label">
                            <span>版心宽度</span>
                            <span id="width-value" class="setting-value">适中</span>
                        </div>
                        <input type="range" id="width-slider" min="-2" max="4" value="0" step="1" aria-label="版心宽度调节">
                    </div>
                </div>
                <footer class="settings-panel-footer">
                    <button class="text-button subtle" id="reset-settings">恢复默认</button>
                </footer>
            </div>

            <footer class="bottom-bar">
                <div class="progress" aria-label="阅读进度">
                    <div class="progress-track">
                        <span class="progress-bar" id="progress-bar"></span>
                    </div>
                    <span class="progress-label" id="progress-label">0%</span>
                </div>
                <div class="nav-controls" role="group" aria-label="章节导航">
                    <button class="text-button" id="prev-chapter" aria-label="上一章">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" aria-hidden="true">
                            <path d="M15 6L9 12L15 18" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>上一章</span>
                    </button>
                    <button class="text-button" id="next-chapter" aria-label="下一章">
                        <span>下一章</span>
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" aria-hidden="true">
                            <path d="M9 6L15 12L9 18" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </footer>
        </main>
    </div>

    <template id="chapter-item-template">
        <li>
            <button class="toc-item" type="button">
                <span class="toc-item-title"></span>
                <span class="toc-item-progress" aria-hidden="true"></span>
            </button>
        </li>
    </template>

    <script src="scripts.js" type="module"></script>
</body>
</html>
